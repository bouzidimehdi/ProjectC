@page
@model WebApplication1.Pages.SearchModel
@{
    ViewData["Title"] = "Search";
}

<!---<h2>Search</h2>-->
<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="card">

                <article class="card-group-item">
                    <header class="card-header">
                        <h6 class="title">Price </h6>
                    </header>
                    <div class="filter-content">
                        <div class="card-body">
                            <form method="post" asp-page-handler="price">

                               <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label>Min</label>
                                        <input type="number" name="min" class="form-control" id="inputEmail4" placeholder="$0">
                                    </div>
                                    <div class="form-group col-md-6 text-right">
                                        <label>Max</label>
                                        <input type="number" name="max" class="form-control" placeholder="$1,0000">
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-sm btn-block">Filter out </button>

                                </div>
                            </form>
                        </div> <!-- card-body.// -->
                    </div>
                </article> <!-- card-group-item.// -->
                <article class="card-group-item">
                    <header class="card-header">
                        <h6 class="title">Genres </h6>
                    </header>
                    <div class="filter-content">
                        <div class="card-body">
                            <div class="custom-control custom-checkbox">
                                <span class="float-right badge badge-light round">52</span>
                                <input type="checkbox" class="custom-control-input" id="Check1">
                                <label class="custom-control-label" for="Check1">Adventure</label>
                            </div> <!-- form-check.// -->
                            <div class="custom-control custom-checkbox">
                                <span class="float-right badge badge-light round">52</span>
                                <input type="checkbox" class="custom-control-input" id="Check2">
                                <label class="custom-control-label" for="Check2">Racing</label>
                            </div> <!-- form-check.// -->
                            <div class="custom-control custom-checkbox">
                                <span class="float-right badge badge-light round">52</span>
                                <input type="checkbox" class="custom-control-input" id="Check3">
                                <label class="custom-control-label" for="Check3">Shooter</label>
                            </div> <!-- form-check.// -->
                            <div class="custom-control custom-checkbox">
                                <span class="float-right badge badge-light round">52</span>
                                <input type="checkbox" class="custom-control-input" id="Check4">
                                <label class="custom-control-label" for="Check4">Multiplayer</label>
                            </div> <!-- form-check.// -->
                        </div> <!-- card-body.// -->
                    </div>
                </article> <!-- card-group-item.// -->
            </div>

        </div>
        <div class="col-md-9">
            @{
                int i_products = 0;
                while (i_products < Model.Products_page.Items.Length)
                {
                    <div class="card-columns">
                        @for (int i = 0; i < 3; i++)
                        {
                            if (i_products < Model.Products_page.Items.Length)
                            {
                                Product item = Model.Products_page.Items[i_products];
                                <div class="card">
                                    <div onclick="location.href = 'Productinfo?id=@Model.Products_page.Items[i_products].ID';" style="cursor: pointer">
                                        <img class="card-img-top" src="@Html.DisplayFor(modelItem => item.HeaderImage)" style="width:100%; object-fit:cover; height:200px; " alt="...">
                                        </div>
                                        <div class=" card-body">
                                            
                                            <h6 class="display-5">@Html.DisplayFor(modelItem => item.ResponseName)</h6>
                                            <!---<a href="Productinfo?id=Model.Products[i_products].ID" class="btn btn-primary">Product info</a>-->

                                            <p>€ @Html.DisplayFor(modelItem => item.PriceFinal)</p>
                                        </div>
                                    </div>
                            }
                            i_products++;
                        }
                    </div>
                }
            }

        </div>
        <div class="row">

        <nav aria-label="...">
            <ul class="pagination">
                @{
                    if (Model.Products_page != null)
                    {
                        for (int i = 4; i > -4; i--)
                        {
                            int page_index = Model.Products_page.Index - i;

                            if (page_index > -1 && page_index <= Model.Products_page.TotalPages)
                            {
                                <li class="page-item">
                                    <a class="page-link" href="search?search=@Model.Products_page.SearchQuery&page_size=50&page_index=@page_index">
                                        @page_index
                                    </a>
                                </li>
                            }
                        }
                    }
                }
            </ul>
        </nav>
        </div>
    </div>
</div>

<style>


    .container.body-content {
        width: 100%;
        padding-top: 20px !important;
        padding-left: 0px !important;
        padding-right: 0px !important;
        margin-left: 0px !important;
        margin-right: 0px !important;
    }

    .card {
        min-height: 300px;
    }

    .card-body {
        min-height: 150px;
    }

    .container {
        margin-top: 1.5rem !important;
    }
</style>
